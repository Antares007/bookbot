!function(n){var r={};function t(e){if(r[e])return r[e].exports;var u=r[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var u in n)t.d(e,u,function(r){return n[r]}.bind(null,u));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";function e(n){var r=!1;return{dispose:function(){r||(n(),r=!0)}}}t.r(r);function u(n,r){var t=[];return r(function(r){var e=c(r[0],t);e>-1&&t[e][0]===r[0]?t[e][1]=n(t[e][1],r[1]):t.splice(e+1,0,r)})(),0===t.length?null:{tag:"Line",line:t}}function o(n,r,t){var e=l(r),o=l(t);if(e[1]<o[0])return{tag:"LR",left:r,right:t};if(o[1]<e[0])return{tag:"LR",left:t,right:r};var c=u(n,function(n){return function(){i(r)(n)(),i(t)(n)()}});if(null!=c)return c;throw new Error("never")}function i(n){return function(r){return function(){if("Line"===n.tag)for(var t=0,e=n.line.length;t<e;t++)r(n.line[t]);else i(n.left)(r)(),i(n.right)(r)()}}}function l(n){return"Line"===n.tag?[n.line[0][0],n.line[n.line.length-1][0]]:[l(n.left)[0],l(n.right)[1]]}function c(n,r){for(var t=0,e=r.length;;){if(!(t<e))return t-1;var u=0|~~((t+e)/2);r[u][0]>n?e=u:t=u+1}throw new Error("never")}var f=function(n){return{tag:"Origin",io:n}},a=function(n){return function(r){return{tag:"Delay",delay:n,io:r}}},s=function n(r,t,e){return function(u){return function(o){return r.value?void 0:e(function(e){switch(e.tag){case"Local":u({tag:"Local",io:n(r,0-o,e.io)});break;case"Origin":u(f(n(r,0,e.io)));break;case"Delay":u(a(e.delay)(n(r,t,e.io)));break;default:throw new Error("never")}})(o+t)}}},g=function(n){return function(r){return function(){!function t(e){return function(u){return function(){e(function(e){switch(e.tag){case"Local":case"Origin":t(e.io)(r)();break;case"Delay":u([e.delay+n[0],e.io]);break;default:throw new Error("never")}})(n[0])}}}(n[1])(r)()}}};function v(n,r){return function(t){return function(e){return e(a(n)(function(n){return function(n){try{t(r,n),t(null,n)}catch(r){r instanceof Error?t(r,n):t(new Error,n)}}}))}}}function d(n){return function(r){return function(t){var u=0,o=0,i={},l=e(function(){for(var n in i)i[n].dispose()}),c=u++;return o++,i[c]=n(function(n,e){if(null==n)delete i[c],0==--o&&r(null,e);else if(n instanceof Error)l.dispose(),r(n,e);else{var f=u++;o++,i[f]=n(function(n,t){null==n?(delete i[f],0==--o&&r(null,e+t)):(n instanceof Error&&l.dispose(),r(n,e+t))})(t)}})(t),l}}}t.d(r,"scheduler",function(){return k});var p,h,y,b,w,E,L,O,j,m,S,_=Date.now(),k=(p=function(){return Date.now()-_},h=function(n){return setTimeout(n,20)},y=-1,b=null,w=null,E=function(n,r){return function(t){return function(e){n(t)(e),r(t)(e)}}},L=function n(){if(console.group("."+y),y=p(),b&&l(b)[0]<=y){var r=b;b=null;var t=null,e=u(E,function(n){return function(){t=function n(r,t,e){return function(u){return function(){if("Line"===e.tag){var i=c(t,e.line);if(-1===i)return e;for(var l=0;l<=i;l++)u(e.line[l]);return i===e.line.length-1?null:{tag:"Line",line:e.line.slice(i+1)}}var f=n(r,t,e.left)(u)(),a=n(r,t,e.right)(u)();return null!=f&&null!=a?o(r,f,a):null!=f?f:null!=a?a:void 0}}}(E,y,r)(function(r){return g(r)(n)()})()}}),i=null!=t&&null!=e?o(E,t,e):null!=t?t:e;b=null!=i&&null!=b?o(E,b,i):null!=i?i:b}w=b?h(n):null,console.groupEnd()},function(n){console.group(">"),null==w&&(y=p(),w=h(L));var r={value:!1},t="Local"===n.tag?s(r,0-y,n.io):"Origin"===n.tag?s(r,0,n.io):s(r,0-y,function(r){return function(t){return r(a(n.delay)(n.io))}}),i=u(E,g([y,t]));return b=null!=i&&null!=b?o(E,b,i):null!=i?i:b,console.groupEnd(),e(function(){r.value=!0})}),x=(O=3,m=100,j=function(n){return function(r){var t=0;return r(a(0)(function r(e){return function(u){try{n(t++,u),e(a(m)(r))}catch(r){r instanceof Error?n(r,u):n(new Error,u)}}}))}},function(n){return function(r){var t=0,e=j(function(r,u){++t<=O&&n(r,u),t>=O&&(e.dispose(),n(null,u))})(r);return e}});!function(n,r,t){t(n)(r)}(function(n,r){return console.log("S",r,n)},k,d(v(300,d((S=[x],function(n){return function(r){return r(a(0)(function(r){return function(r){try{for(var t=0,e=S.length;t<e;t++)n(S[t],r);n(null,r)}catch(t){t instanceof Error?n(t,r):n(new Error,r)}}}))}})))))}]);