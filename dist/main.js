!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"delay",function(){return p}),e.d(r,"now",function(){return l}),e.d(r,"End",function(){return v}),e.d(r,"end",function(){return m}),e.d(r,"Event",function(){return g}),e.d(r,"event",function(){return w}),e.d(r,"S",function(){return y}),e.d(r,"s",function(){return b}),e.d(r,"empty",function(){return E}),e.d(r,"at",function(){return M}),e.d(r,"periodic",function(){return k}),e.d(r,"run",function(){return x}),e.d(r,"flatMapLatest",function(){return N}),e.d(r,"switchLatest",function(){return L}),e.d(r,"flatMap",function(){return O}),e.d(r,"combine",function(){return j}),e.d(r,"merge",function(){return S}),e.d(r,"startWith",function(){return T}),e.d(r,"tryCatch",function(){return q}),e.d(r,"map",function(){return C}),e.d(r,"tap",function(){return B}),e.d(r,"filter",function(){return _}),e.d(r,"filter2",function(){return P}),e.d(r,"take",function(){return z}),e.d(r,"skip",function(){return H}),e.d(r,"scan",function(){return U}),e.d(r,"multicast",function(){return W}),e.d(r,"skipEquals",function(){return D});class o{constructor(n){this.dispose=n}dispose(){this.dispose()}}function s(n){return new o(n)}new o(()=>{});const i=(n,t=0)=>{const e=setTimeout(n,t);return s(()=>clearTimeout(e))};var c=[],u=-1/0,a=1/0,f=null;const l=()=>{if(u!==a){f&&f.dispose(),f=i(d,0);var n=(()=>Date.now())();u>n&&(n=u),a<n&&(n=a),u=a=n}return u},p=(n,t=0)=>{const e=t<0?l():l()+t,r=h(e,c);var o=c[r];-1!==r&&o[0]===e||(o=[e,[]],c.splice(r+1,0,o));const i=o[1].push(n)-1;return s(()=>{o[1][i]=null})};function d(){for(u=a;;){const e=h(u,c);if(-1===e)break;const r=c;c=e===c.length-1?[]:c.slice(e+1);for(var n=0;n<=e;n++){const[e,o]=r[n];for(var t of o)t&&t(e)}}0===c.length?(a=1/0,f=null):(a=c[0][0],f=i(d,a-u))}function h(n,t){for(var e=0,r=t.length;;){if(!(e<r))return e-1;{const o=0|~~((e+r)/2);if(t[o][0]>n){r=o;continue}e=o+1}}throw new Error("never")}class v{}const m=new v;class g{constructor(n){this.value=n}}const w=n=>new g(n);class y{constructor(n){this.pith=n}run(n){return x(n,this)}merge(n){return S(this,n)}startWith(n){return T(n,this)}tryCatch(){return q(this)}map(n){return C(n,this)}tap(n){return B(n,this)}flatMap(n){return O(n,this)}flatMapLatest(n){return N(n,this)}filter(n){return _(n,this)}filter2(n){return P(n,this)}take(n){return z(n,this)}skip(n){return H(n,this)}scan(n,t){return U(n,t,this)}multicast(){return W(this)}skipEquals(){return D(this)}}function b(n){return new y(n)}const E=()=>b(n=>n(p(()=>n(m)))),M=(n,t=0)=>b(e=>{e(p(()=>{e(w(n)),e(p(()=>e(m),0))},t))}),k=n=>b(t=>{var e=0;t(p(function r(){t(w(e++)),t(p(r,n))}))}),x=(n,t)=>{var e=[],r=!1;const i=s(()=>{var n;for(r=!0;n=e.shift();)n.dispose()});var c=l();return t.pith(function(t){t instanceof g?n(t):t instanceof o?r?t.dispose():c===l()?e.push(t):(c=l(),e=[t]):(t instanceof Error&&i.dispose(),n(t))}),i},N=(n,t)=>b(e=>{var r=null,o=x(function(t){t instanceof g?(r&&r.dispose(),r=x(function(n){n instanceof g?e(n):n instanceof v?(r=null,null==o&&e(m)):e(n)},n(t.value))):t instanceof v?(o=null,null==r&&e(m)):e(t)},t);e(s(()=>{o&&o.dispose(),r&&r.dispose()}))}),L=n=>b(t=>{var e=null,r=x(function(n){n instanceof g?(e&&e.dispose(),e=x(function(n){n instanceof g?t(n):n instanceof v?(e=null,null==r&&t(m)):t(n)},n.value)):n instanceof v?(r=null,null==e&&t(m)):t(n)},n);t(s(()=>{r&&r.dispose(),e&&e.dispose()}))}),O=(n,t)=>b(e=>{const r=new Map;e(s(()=>{for(var n of r.entries())n[1].dispose()}));var o=0;const i=o++;r.set(i,x(t=>{if(t instanceof g){const s=o++;r.set(s,x(n=>{n instanceof g?e(n):n instanceof v?(r.delete(s),0===r.size&&e(n)):e(n)},n(t.value)))}else t instanceof v?(r.delete(i),0===r.size&&e(t)):e(t)},t))}),j=(n,t)=>b(e=>{const r=new Map,o=[];for(var i=0,c=t.length;i<c;i++)o.push(null),r.set(i,x(u(i),t[i]));function u(t){return s=>{if(s instanceof g){o[t]=s;var i=[];for(var c of o){if(null==c)return;i.push(c.value)}e(w(n(i)))}else s instanceof v?(r.delete(t),0===r.size&&e(m)):e(s)}}e(s(()=>{for(var n of r.entries())n[1].dispose()}))}),S=(n,t)=>b(e=>{var r=2;const o=x(c,n),i=x(c,t);function c(n){n instanceof v?0==--r&&e(m):e(n)}e(s(()=>{o.dispose(),i.dispose()}))}),T=(n,t)=>b(e=>e(p(()=>e(w(n)),e(x(e,t))))),q=n=>b(t=>n.pith(function(n){if(n instanceof Error)t(n);else try{t(n)}catch(n){t(n)}})),C=(n,t)=>b(e=>t.pith(function(t){e(t instanceof g?w(n(t.value)):t)})),B=(n,t)=>b(e=>t.pith(function(t){t instanceof g?(n(t.value),e(t)):e(t)})),_=(n,t)=>b(e=>t.pith(function(t){t instanceof g?n(t.value)&&e(t):e(t)})),P=(n,t)=>b(e=>t.pith(function(t){if(t instanceof g){const r=n(t.value);r&&e(w(r))}else e(t)})),z=(n,t)=>n<=0?E():b(e=>{var r=0;const o=x(function(t){t instanceof g?(e(t),++r===n&&(o.dispose(),e(m))):e(t)},t);e(o)}),H=(n,t)=>n<=0?t:b(e=>{var r=0;const o=x(function(t){if(t instanceof g){if(r++<n)return;e(t)}else e(t)},t);e(o)}),U=(n,t,e)=>b(r=>{r(p(o=>{var s=t;r(w(s)),r(x(function(t){r(t instanceof g?w(s=n(s,t.value)):t)},e))}))}),W=n=>{const t=[];var e;return b(r=>{null==e&&(e=x(n=>{for(var e of t)e(n)},n)),t.push(r),r(s(()=>{var n=t.indexOf(r);n<0||(t.splice(n,1),0===t.length&&e&&(e=e.dispose()))}))})},D=n=>{var t;return b(e=>{n.pith(n=>{if(n instanceof g){if(t===n.value)return;t=n.value,e(n)}else e(n)})})};function I(n){var t=E();return n(n=>{t=t.merge(n)}),t}class J{constructor(n){this.ets=n}event(n){return this.ets.flatMap(t=>b(e=>{const r=n=>e(w(n));t.addEventListener(n,r),e(s(()=>t.removeEventListener(n,r)))}))}click(){return this.ets.flatMap(n=>b(t=>{const e=n=>t(w(n));n.addEventListener("click",e),t(s(()=>n.removeEventListener("click",e)))}))}}class A{constructor(n){this.patch=n}}class F{constructor(n,t,e){this.create=n,this.eq=t,this.pith=e}pmap(n){return new F(this.create,this.eq,this.pith.map(n))}}function G(n,t){const e=t.eq(n)||n.insertBefore(t.create(),null);return t.pith.flatMap(n=>(function(n){var t=E();return n(n=>{t=t.merge(n)}),t})(t=>{const e=[];t(M(Q(n=>{const t=e.length,r=n.childNodes;for(var o=0;o<t;o++){const t=e[o];for(var s,i=o,c=r.length;i<c&&!(s=t.eq(n.childNodes[i]));i++);null==s?n.insertBefore(t.create(),r[o]):i!==o&&n.insertBefore(s,r[o])}for(var i=r.length-1;i>=t;i--)n.removeChild(r[i])}))),n(n=>{if(n instanceof y)t(n);else{const r=e.length;e.push(n),t(K(n.pith).map(n=>n instanceof A?Q(t=>n.patch(t.childNodes[r])):n))}})})).filter2(n=>n instanceof A?n.patch(e):n)}function K(n){const t=n=>I(t=>{const e=[];t(M(Q(n=>{const t=e.length;const r=n.childNodes;for(var o=0;o<t;o++){const t=e[o];var s;for(var i=o,c=r.length;i<c;i++)if(s=t.eq(n.childNodes[i]))break;if(s==null)n.insertBefore(t.create(),r[o]);else if(i!==o)n.insertBefore(s,r[o])}for(var i=r.length-1;i>=t;i--)n.removeChild(r[i])})));n(n=>{if(n instanceof y)t(n);else{const r=e.length;e.push(n);t(K(n.pith).map(n=>n instanceof A?Q(t=>n.patch(t.childNodes[r])):n))}})});return n.flatMap(t)}const Q=n=>new A(n),R=(n,t,e)=>new F(n,t,e),V=(n,t,e)=>{const r=n.toUpperCase();return R(()=>document.createElement(n),n=>n instanceof HTMLElement&&n.nodeName===r&&(null==e||n.dataset.key===e)?n:null,t)},X=n=>(t,e)=>{var r;t(M(Q(n=>void(r=n))));const o=b(n=>{n(p(function t(){r?(n(w(r)),n(p(()=>n(m)))):n(p(t))}))});n(t,{...e,on:new J(o),ref:o})},Y=n=>R(()=>document.createTextNode(""),n=>n instanceof Text?n:null,M(t=>t((n instanceof y?n:M(n)).map(n=>Q(t=>{t.textContent=n})))));class Z{constructor(n){this.r=n}}class $ extends F{constructor(n,t,e){super(n,t,e)}}const nn=n=>new Z(n);window.S=r;const tn=(n,t)=>(function e(r){return(o,s)=>r(r=>{o(r instanceof y?r.map(e=>e instanceof Z?nn(r=>({...r,[n]:e.r(r[n]||t)})):e):r.pmap(e))},{states:s.states.map(e=>"object"==typeof e[n]?e[n]:t)})}),en=n=>((n,t,e)=>{const r=n.toUpperCase();return new $(()=>document.createElement(n),n=>n instanceof HTMLElement&&n.nodeName===r&&(null==e||n.dataset.key===e)?n:null,t)})("div",M((t,e)=>{t(V("button",M((t,e)=>{t(Y("+")),t(e.on.click().map(n=>nn(n=>n+1)).map(n=>nn(t=>({...t,n:n.r(t.n)})))),n>0&&t(en(n-1).pmap(tn("+",{n:0})))}).map(X))),t(V("button",M((t,e)=>{t(Y(M("-"))),t(e.on.click().map(n=>nn(n=>n-1)).map(n=>nn(t=>({...t,n:n.r(t.n)})))),n>0&&t(en(n-1).pmap(tn("-",{n:0})))}).map(X))),t(Y(e.states.map(n=>n.n+"")))})),rn=en(2),on=document.getElementById("root-node");if(!on)throw new Error("cant find root-node");(function(n,t,e){var r;const o=b(n=>void(r=n)).multicast(),s=e.pmap(function n(t){return e=>t(t=>{e(t instanceof F?t.pmap(n):t)},{states:o})});return b(e=>e(G(n,s).scan((n,t)=>t.r(n),t).run(n=>{n instanceof g&&e(p(()=>{r(n)},1)),e(n)})))})(on,{n:0},rn).run(n=>{n instanceof g?console.log(JSON.stringify(n.value,null,"  ")):console.info(n)})}]);